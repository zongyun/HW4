{
    "collab_server" : "",
    "contents" : "#Facebook粉絲團分析（分析專頁：柯文哲）\n\n分析台北市長柯文哲facebook粉絲專業，2016/01/01至2016/04/10貼文\n\n#讀取柯文哲粉絲團資料\n\nif (!require('Rfacebook')){\n    install.packages(\"Rfacebook\")\n    library(Rfacebook)\n}\ntoken<-'CAACEdEose0cBAAQZBgmuZBTZCcAvNmgydx0puEPlg8fNWkbtXfWcZA511PjOBsThFILwysBqoIZAZC00UfbNIvqJikzcUfNRkyoZBXiBSaNiikg23txunMdVVTRLQbZBzFvTaBXpivR4RM28zwgFnq0FWPOKtbGBusiaY6ZAQTZCgBlYIx6f4yKN4VSXLUrwiiRQsSyjsdx42TTgZDZD'\ntotalPage<-NULL\nlastDate<-Sys.Date()\nDateVectorStr<-as.character(seq(as.Date(\"2016-01-01\"),lastDate,by=\"7 days\"))\nfor(i in 1:(length(DateVectorStr)-1)){\n    tempPage<-getPage(\"DoctorKoWJ\", token,\n                      since = DateVectorStr[i],until = DateVectorStr[i+1])\n    totalPage<-rbind(totalPage,tempPage)\n}\nnrow(totalPage)\n\n#每日發文數分析\ntotalPage$datetime <- as.POSIXct(totalPage$created_time, \n                                 format = \"%Y-%m-%dT%H:%M:%S+0000\", \n                                 tz = \"GMT\") #2016-01-16T15:05:36+0000\ntotalPage$dateTPE <- format(totalPage$datetime, \"%Y-%m-%d\", \n                            tz = \"Asia/Taipei\") #2016-01-16\ntotalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))\nPostCount<-aggregate(id~dateTPE,totalPage,length)\nlibrary(knitr)\nkable(head(PostCount[order(PostCount$id,decreasing = T),]))\n\nLikeCount<-aggregate(likes_count~dateTPE,totalPage,mean)\nlibrary(knitr)\nkable(head(LikeCount[order(LikeCount$likes_count,decreasing = T),]))\n\n##討論\n2016/01/01-2016/04/10 柯文哲粉絲團一共有57篇文章\n\n#每日like數分析\n分析2016/01/01-2016/04/10發最多文數的日期\n\n##程式碼\ntotalPage$datetime <- as.POSIXct(totalPage$created_time, \n                                 format = \"%Y-%m-%dT%H:%M:%S+0000\", \n                                 tz = \"GMT\") #2016-01-16T15:05:36+0000\ntotalPage$dateTPE <- format(totalPage$datetime, \"%Y-%m-%d\", \n                            tz = \"Asia/Taipei\") #2016-01-16\ntotalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))\nPostCount<-aggregate(id~dateTPE,totalPage,length)\nlibrary(knitr)\nkable(head(PostCount[order(PostCount$id,decreasing = T),]))\n\nLikeCount<-aggregate(likes_count~dateTPE,totalPage,mean)\nlibrary(knitr)\nkable(head(LikeCount[order(LikeCount$likes_count,decreasing = T),]))\n\n###圖表\n\n|   |dateTPE    | id|\n|:--|:----------|--:|\n|6  |2016-01-09 |  4|\n|5  |2016-01-08 |  2|\n|7  |2016-01-10 |  2|\n|25 |2016-02-06 |  2|\n|44 |2016-03-22 |  2|\n|1  |2016-01-01 |  1|\n\n##討論\n2016/01/09日po文數量最多，因為柯文哲進行單車一日北高，分別po了活動進行的文章和直播影片\n\n#每日comments數分析\n2016/01/01-2016/04/10被評論數量最多的文章日期\n\n##程式碼\ntotalPage$datetime <- as.POSIXct(totalPage$created_time, \n                                 format = \"%Y-%m-%dT%H:%M:%S+0000\", \n                                 tz = \"GMT\") #2016-01-16T15:05:36+0000\ntotalPage$dateTPE <- format(totalPage$datetime, \"%Y-%m-%d\", \n                            tz = \"Asia/Taipei\") #2016-01-16\ntotalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))\nPostCount<-aggregate(id~dateTPE,totalPage,length)\nlibrary(knitr)\nkable(head(PostCount[order(PostCount$id,decreasing = T),]))\n\nCommentsCount<-aggregate(comments_count~dateTPE,totalPage,mean)\nlibrary(knitr)\nkable(head(CommentsCount[order(CommenysCount$comments_count,decreasing = T),]))\n\n###圖表\n\n|   |dateTPE    | comments_count|\n|:--|:----------|--------------:|\n|7  |2016-01-10 |        5981.50|\n|6  |2016-01-09 |        5153.25|\n|47 |2016-03-28 |        5103.00|\n|33 |2016-02-28 |        3565.00|\n|32 |2016-02-27 |        3268.00|\n|9  |2016-01-14 |        2848.00|\n\n##討論\n2016/01/10的文章被評論最多，共有5981評論，因為那天是柯文哲完成挑戰單車一日北高。\n2016/01/09文章居次，為柯文哲一日北高進行中的直播影片。\n\n#每日shares數分析\n\n2016/01/01-2016/04/10被分享數量最多的文章日期\n\n##程式碼\n\ntotalPage$datetime <- as.POSIXct(totalPage$created_time, \n                                 format = \"%Y-%m-%dT%H:%M:%S+0000\", \n                                 tz = \"GMT\") #2016-01-16T15:05:36+0000\ntotalPage$dateTPE <- format(totalPage$datetime, \"%Y-%m-%d\", \n                            tz = \"Asia/Taipei\") #2016-01-16\ntotalPage$weekdays <-weekdays(as.Date(totalPage$dateTPE))\nPostCount<-aggregate(id~dateTPE,totalPage,length)\nlibrary(knitr)\nkable(head(PostCount[order(PostCount$id,decreasing = T),]))\n\nSharesCount<-aggregate(shares_count~dateTPE,totalPage,mean)\nlibrary(knitr)\nkable(head(SharesCount[order(SharesCount$shares_count,decreasing = T),]))\n\n###圖表\n\n|   |dateTPE    | shares_count|\n|:--|:----------|------------:|\n|9  |2016-01-14 |      34775.0|\n|7  |2016-01-10 |      16407.5|\n|33 |2016-02-28 |      11236.0|\n|35 |2016-03-04 |       5333.0|\n|47 |2016-03-28 |       4968.0|\n|11 |2016-01-16 |       4897.0|\n\n##討論\n2016/01/14的po文被分享最多次，因為在柯文哲完成一日北高後，述說自己的感想，要大家用於追夢，引起眾多粉絲的分享。\n",
    "created" : 1460302934438.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2840388312",
    "id" : "F5EF503A",
    "lastKnownWriteTime" : 1460302991,
    "last_content_update" : 1460302991069,
    "path" : "C:/Users/user/Desktop/HW4/HW4.Rmd",
    "project_path" : "HW4.Rmd",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}